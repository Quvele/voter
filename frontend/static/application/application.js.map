{"version":3,"sources":["webpack:///webpack/bootstrap 0702b546957b0a34718b","webpack:///./assets/sass/application.sass","webpack:///./assets/js/application.js","webpack:///./assets/js/main.js","webpack:///./assets/js/templates.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACtCA,0C;;;;;;ACAA;;AAEA,wB;;;;;;ACFA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAkB,OAAO;AACzB;AACA;AACA,IAAG;AACH;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,gBAAe;AACf;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gB;;;;;;AC1LA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4B","file":"application/application.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0702b546957b0a34718b\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/sass/application.sass\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\nrequire('./main');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/application.js\n ** module id = 2\n ** module chunks = 0\n **/","'https://api.vk.com/method/photos.get?owner_id=' + 'VKID' + '&album_id=profile' // VKID from API GET photo user\n\n'/casting-users/id' // - ID USER \n\n'/choices/' // - list POST\n'/choices/id' // + uuid (data) from /choices/ PUT\n\n\n'/casting-users/top/' // for list.html\n\n'/casting-users/1/' //\n\n'use strict';\n\nvar nodes = nodes || {};\nvar methods = methods || {};\nvar urls = urls || {};\nvar ids = ids || {};\n\nvar t = require('./templates');\n\nurls = {\n  images: {\n    start: 'https://api.vk.com/method/photos.get?owner_id=',\n    end: '&album_id=profile'\n  },\n  casting: '/casting-users/',\n  choices: '/choices/'\n}\n\nnodes.body = $('body');\n\nmethods = {\n  requests: function(url, type, data, callback, el){\n    console.log(arguments)\n    $.ajax({\n      url: url,\n      data: data,\n      type: type,\n      crossDomain: true,\n      success: function(data){\n        if(callback) callback(data);\n      }\n    })\n  },\n  getImages: function(){\n    //.choose\n    methods.requests(urls.images.start + ids.vk + urls.images.end, 'get', '', methods.viewImages);\n  },\n  fakeGetImages: function(){\n    data = {\n      \"response\": [\n        {\n        \"pid\": 215187843,\n        \"aid\": -6,\n        \"owner_id\": 1,\n        \"src\": \"http://cs210.vk.me/v210001/2/XF7JgWq3Chc.jpg\",\n        \"src_big\": \"http://cs210.vk.me/v210001/3/7ZzaHxmob4A.jpg\",\n        \"src_small\": \"http://cs210.vk.me/v210001/1/fxqypKXX8Bg.jpg\",\n        \"src_xbig\": \"http://cs210.vk.me/v210001/4/6Ky-XWCj0LM.jpg\",\n        \"src_xxbig\": \"http://cs210.vk.me/v210001/5/3E2MaC_4Gm8.jpg\",\n        \"src_xxxbig\": \"http://cs210.vk.me/v210001/6/53_VwoACy4I.jpg\",\n        \"width\": 2560,\n        \"height\": 1913,\n        \"text\": \"\",\n        \"created\": 1296326714\n        },\n        {\n        \"pid\": 263219656,\n        \"aid\": -6,\n        \"owner_id\": 1,\n        \"src\": \"http://cs9591.vk.me/u00001/136592355/m_672c7bad.jpg\",\n        \"src_big\": \"http://cs9591.vk.me/u00001/136592355/x_dbfafe4c.jpg\",\n        \"src_small\": \"http://cs9591.vk.me/u00001/136592355/s_2606f012.jpg\",\n        \"src_xbig\": \"http://cs9591.vk.me/u00001/136592355/y_7c7b186e.jpg\",\n        \"src_xxbig\": \"http://cs9591.vk.me/u00001/136592355/z_17426819.jpg\",\n        \"src_xxxbig\": \"http://cs9591.vk.me/u00001/136592355/w_818d6f79.jpg\",\n        \"text\": \"\",\n        \"created\": 1307883624\n        },\n        {\n        \"pid\": 263219735,\n        \"aid\": -6,\n        \"owner_id\": 1,\n        \"src\": \"http://cs9591.vk.me/u00001/136592355/m_5f3fd6ac.jpg\",\n        \"src_big\": \"http://cs9591.vk.me/u00001/136592355/x_d51dbfac.jpg\",\n        \"src_small\": \"http://cs9591.vk.me/u00001/136592355/s_39db64b7.jpg\",\n        \"src_xbig\": \"http://cs9591.vk.me/u00001/136592355/y_8cc51452.jpg\",\n        \"src_xxbig\": \"http://cs9591.vk.me/u00001/136592355/z_90874cc2.jpg\",\n        \"src_xxxbig\": \"http://cs9591.vk.me/u00001/136592355/w_f6a60338.jpg\",\n        \"text\": \"\",\n        \"created\": 1307883759\n        },\n        {\n        \"pid\": 278184324,\n        \"aid\": -6,\n        \"owner_id\": 1,\n        \"src\": \"http://cs10408.vk.me/u4172580/-6/m_79ab6f4a.jpg\",\n        \"src_big\": \"http://cs10408.vk.me/u4172580/-6/x_ee97448e.jpg\",\n        \"src_small\": \"http://cs10408.vk.me/u4172580/-6/s_24887a5a.jpg\",\n        \"text\": \"\",\n        \"created\": 1328126422,\n        \"post_id\": 45430\n        }\n      ]\n    }\n    methods.viewImages(data);\n  },\n  vote: function(el){\n    var item = el.parents('.vote-item');\n    var check = nodes.body.find('._choose-vote');\n\n    check.removeClass('_choose-vote');\n    item.toggleClass('_choose-vote');\n    \n  },\n  choose: function(el){\n    var item = el.parents('.choose-item');\n    var check = nodes.body.find('._choose-choose');\n\n    check.removeClass('_choose-choose');\n    item.toggleClass('_choose-choose');\n\n    //ids.vk\n  },\n  viewImages: function(data){\n    var imgs = [];\n    var obj = data.response\n\n    for(var prop in obj){\n      imgs.push(obj[prop].src)\n    }\n\n    for(var i = 0; i < 4; i++){\n      nodes.choose_list.append( $( t.images(imgs[0]) ) );\n    }\n  },\n  viewVote: function(data){\n    console.log(data);\n    for(var i = 0; i < 2; i++){\n      nodes.vote_list.append( $( t.vote() ) );\n    }\n  },\n  viewTop: function(data){\n    console.log(data);\n  },\n  sendChoose: function(){\n    var item = nodes.body.find('._choose-choose');\n    var img = item.find('img');\n    var src = img.attr('src');\n    var obj = {url: src};\n    var json = JSON.stringify(obj);\n\n    if(item.length < 1) return false;\n\n    methods.requests(urls.casting + ids.user + '/', 'patch', json);\n    window.open('/votes/');\n  },\n  eventSets: function(){\n    nodes.body.on({\n      click: function(event){\n        var $target = $( event.target );\n        if($target.hasClass('js-vote-image')) methods.vote($target);\n        if($target.hasClass('js-choose-image')) methods.choose($target);\n        if($target.hasClass('js-choose-send')) methods.sendChoose();\n      }\n    })\n  },\n  init: function(){\n    this.eventSets();\n    nodes.toplist = nodes.body.find('.toplist');\n    nodes.choose_list = nodes.body.find('.choose-list');\n    nodes.vote_list = nodes.body.find('.vote-list');\n    nodes.choose = nodes.body.find('.choose');\n\n    ids.vk = nodes.choose.data('vk');\n    ids.user = nodes.choose.data('id');\n\n    // if(nodes.choose.length > 0) methods.getImages();\n    if(nodes.choose.length > 0) methods.fakeGetImages();\n    // if(nodes.vote_list.length > 0) methods.viewVote();\n    if(nodes.vote_list.length > 0) methods.requests(urls.choices, 'post', '', methods.viewVote);\n    if(nodes.toplist.length > 0) methods.requests(urls.casting + 'top/', 'get', '', methods.viewTop);\n  }\n}\n\nmethods.init();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/main.js\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n\nvar templates = templates || {};\ntemplates = {\n  images: function(item){\n    var tmp = [];\n    tmp.push('<span class=\"choose-item\"><img class=\"choose-item-image js-choose-image\" src=\"');\n    tmp.push(item);\n    tmp.push('\" /></span>');\n    return tmp.join('');\n  },\n  vote: function(obj){\n    var tmp = [];\n\n    tmp.push('<li class=\"vote-item\" data-uuid=\"');\n    tmp.push('\"><i class=\"vote-avatar\">');\n    tmp.push('<img src=\"');\n    tmp.push();\n    // tmp.push('http://orig01.deviantart.net/9824/f/2016/121/d/7/placeholder_2_by_sketchymouse-da0yiyl.png');\n    tmp.push('\" class=\"vote-avatar-icon js-vote-image\"></img></i></li>');\n\n    return tmp.join('');\n  }\n}\n\nmodule.exports = templates;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/templates.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}